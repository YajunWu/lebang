<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="content-script-type" content="text/javascript">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui">
	<title>我们的乐邦</title>
	<style type="text/css">
	body{
		width: 100%;
		padding: 0;
		margin: 0;
		text-align: center;
		background-color: #fbb96e;
	}
	#content{
		overflow: hidden;
	}
	#pages{
		transition: transform 1s ease;
		-moz-transition: -moz-transform 1s ease;
		-webkit-transition: -webkit-transform 1s ease;
	}
	.page{
		/*display: -webkit-box;
		-webkit-box-align: center;*/
		text-align: center;
		position: relative;
	}
	#first-page{
		background-color: rgba(231, 212, 191, 1);
        background-image:url("images/beijing.jpg");
        background-size: cover;
	}
	#second-page{
		background-color: #330;
	}
	#third-page{
		background-color: #033;
	}
	#forth-page{
		background-color: #303;
	}
	#phone2{
		position: absolute;
		top: 50%;
		left: 180px;
		margin-top: -257px;
		width: 280px;
		height: 514px;
		background-image: url(images/phone1.png);
		background-size: cover;
		overflow: hidden;

	}
	#phone2>div{
		width: 210px;
		position: absolute;
		top: 80px;
		left: 33px;
		height: 368px;
		overflow: hidden;
	}
	#phone2_imgs{
		list-style: none;
		width: 630px;
		padding: 0;
		margin: 0;
		overflow: hidden;
		transition: transform 1s ease;
		-moz-transition: -moz-transform 1s ease;
		-webkit-transition: -webkit-transform 1s ease;
	}
	#phone2_imgs>li{
		width: 210px;
		height: 367px;
		float: left;
	}
	</style>
</head>
<body>
	<div id="content">
		<div id="pages">
			<section id="first-page" class="page">

			</section>

			<section id="second-page" class="page">
				<div id="phone2">
					<div>
						<ul id="phone2_imgs">
							<li>
								<img src="images/register1.png" width="100%">
							</li>
							<li>
								<img src="images/register2.jpg" width="100%">
							</li>
							<li>
								<img src="images/register3.jpg" width="100%">
							</li>
						</ul>
					</div>
				</div>
			</section>

			<section id="third-page" class="page">

			</section>

			<section id="forth-page" class="page">

			</section>
		</div>
	</div>
	<script type="text/javascript">

		window.onload = function() {
			home_support.setPageSize();
			sliderAction();
		}

		function sliderAction() {
			window.onkeydown = function(e) {
				var e = e || window.event;
				if(e.keyCode == 38){
					//上
					home_support.sliderUp();
				} else if(e.keyCode == 40) {
					//下
					home_support.sliderDown();
				}
				home_support.startPageAnimation();

			}
			window.onmousewheel = function(e) {
				var e = e || window.event;
				if(e.wheelDelta) {//IE/Opera/Chrome
	                if(e.wheelDelta==120) {
	                    //上
	                    home_support.sliderUp();
	                }else {
	                    //下
	                    home_support.sliderDown();
	                }
	            }else if(e.detail) {//Firefox
	                if(e.detail==-3) {
	                    //上
	                    home_support.sliderUp();
	                }else {
	                    //下
	                    home_support.sliderDown();
	                }
	            }
	            home_support.startPageAnimation();
			}
		}

		var home_support = {
			page2ImgIndex: 1,
			curpage: 1,
			pageHeight: 0,
			setPageSize: function() {
				var sections = document.getElementsByClassName('page');
				this.pageHeight = document.body.scrollHeight;//window.screen.availHeight;
				document.getElementById('content').style.height = this.pageHeight - 1 + 'px';
				for(var len = sections.length - 1; len >= 0; len--) {
					sections[len].style.height =  this.pageHeight + 'px';
				}
			},
			sliderUp: function() {
				var height;
				if(this.curpage > 1) {
					this.curpage--;
					height = this.pageHeight * (this.curpage - 1);
					document.getElementById('pages').style.transform = 'translateY('+(-height)+'px)';
					document.getElementById('pages').style.mozTransform = 'translateY('+(-height)+'px)';
					document.getElementById('pages').style.webkitTransform = 'translateY('+(-height)+'px)';
				}
			},
			sliderDown: function() {
				var height;
				if(this.curpage < 4) {
					this.curpage++;
					height = this.pageHeight * (this.curpage - 1);
					document.getElementById('pages').style.transform = 'translateY('+(-height)+'px)';
					document.getElementById('pages').style.mozTransform = 'translateY('+(-height)+'px)';
					document.getElementById('pages').style.webkitTransform = 'translateY('+(-height)+'px)';
				}
			},
			startPageAnimation: function() {
				switch(this.curpage) {
					case 1: 
						animationPage1();
						break;
					case 2: 
						animationPage2();
						break;
					case 3:
						animationPage3();
						break;
					case 4: 
						animationPage4();
						break;
					default:

						console.log('which page?');
				}
			}
		}
	
		function animationPage1() {

		}

		function animationPage2() {
			var phone2_imgs = document.getElementById('phone2_imgs');

			setInterval(function() {
				if(home_support.page2ImgIndex == 3) {
					phone2_imgs.style.webkitTransform = 'translateX(0px)';
					home_support.page2ImgIndex = 1;
				} else {
					phone2_imgs.style.webkitTransform = 'translateX(-' + 210 * home_support.page2ImgIndex + 'px)';
					home_support.page2ImgIndex++;
				}

			}, 3000);
		}

		function animationPage3() {
			
		}

		function animationPage4() {
			
		}

		
	</script>
</body>
</html>